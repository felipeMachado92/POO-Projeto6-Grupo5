CREATE TABLE ALTERNATIVA (
ID_ALTERNATIVA INTEGER DEFAULT AUTOINCREMENT: start 1 increment 1  NOT NULL GENERATED ALWAYS AS IDENTITY, 
TEXTO_ALTERNATIVA INTEGER NOT NULL, 
TIPO BOOLEAN, 
ID_QUESTAO INTEGER, 
PRIMARY KEY (ID_ALTERNATIVA),
CONSTRAINT FK_QUESTAO FOREIGN KEY(ID_QUESTAO) REFERENCES QUESTAO 
);

CREATE TABLE PARTIDA (
ID_PARTIDA INTEGER DEFAULT AUTOINCREMENT: start 1 increment 1  NOT NULL GENERATED ALWAYS AS IDENTITY, 
PONTUACAO DECIMAL(5) NOT NULL, 
DATA_HORA TIMESTAMP NOT NULL, 
ID_USUARIO INTEGER NOT NULL, 
PRIMARY KEY (ID_PARTIDA),
CONSTRAINT FK_USUARIOP FOREIGN KEY(ID_USUARIO) REFERENCES USUARIO
);

CREATE TABLE QUESTAO (ID_QUESTAO INTEGER DEFAULT AUTOINCREMENT: start 1 increment 1  NOT NULL GENERATED ALWAYS AS IDENTITY, 
TEXTO_QUESTAO VARCHAR(300) NOT NULL, 
ID_TESTE INTEGER, 
PRIMARY KEY (ID_QUESTAO),
CONSTRAINT FK_TESTE FOREIGN KEY(ID_TESTE) REFERENCES TESTE
);

CREATE TABLE RESPOSTA (ID_RESPOSTA INTEGER NOT NULL, 
ID_USUARIO INTEGER NOT NULL,
 ID_ALTERNATIVA INTEGER NOT NULL, 
PRIMARY KEY (ID_RESPOSTA),
CONSTRAINT FK_USUARIO2 FOREIGN KEY(USUARIO_ID) REFERENCES USUARIO
);

CREATE TABLE TESTE (
ID_TESTE INTEGER DEFAULT AUTOINCREMENT: start 1 increment 1  NOT NULL GENERATED ALWAYS AS IDENTITY, 
NM_TESTE VARCHAR(50) NOT NULL, 
DESC_TESTE VARCHAR(200) NOT NULL, 
ID_PARTIDA INTEGER NOT NULL, 
PRIMARY KEY (ID_TESTE),
CONSTRAINT FK_PARTIDA FOREIGN KEY(ID_PARTIDA) REFERENCES PARTIDA
);

CREATE TABLE TIPO_USUARIO (
ID_TIPO_USUARIO INTEGER DEFAULT AUTOINCREMENT: start 1 increment 1  NOT NULL GENERATED ALWAYS AS IDENTITY, 
NM_TIPO_USUARIO VARCHAR(20), 
PRIMARY KEY (ID_TIPO_USUARIO)
);

INSERT INTO ROOT.TIPO_USUARIO (NM_TIPO_USUARIO) 
	VALUES ('CONVIDADO');

INSERT INTO ROOT.TIPO_USUARIO (NM_TIPO_USUARIO) 
	VALUES ('ADMINISTRADOR');

CREATE TABLE USUARIO (
ID_USUARIO INTEGER DEFAULT AUTOINCREMENT: start 1 increment 1  NOT NULL GENERATED ALWAYS AS IDENTITY, 
NM_USUARIO VARCHAR(50) NOT NULL, 
SENHA VARCHAR(50) NOT NULL, 
LOGIN VARCHAR(50) NOT NULL, 
ID_TIPO_USUARIO INTEGER, 
PRIMARY KEY (ID_USUARIO),
CONSTRAINT FK_TIPO_USUARIO FOREIGN KEY(ID_TIPO_USUARIO) REFERENCES ID_TIPO
);

